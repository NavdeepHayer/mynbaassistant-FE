{"ast":null,"code":"import axios from 'axios';\nimport PlayerDetails from './PlayerDetails.vue';\nexport default {\n  name: 'PlayersTab',\n  components: {\n    PlayerDetails\n  },\n  data() {\n    return {\n      players: [],\n      searchQuery: '',\n      showDropdown: false,\n      selectedPlayer: null\n    };\n  },\n  async created() {\n    await this.fetchPlayers();\n    if (this.players.length > 0) {\n      this.selectPlayer(this.players[0]);\n    }\n  },\n  methods: {\n    async fetchPlayers() {\n      try {\n        const response = await axios.get('http://192.168.50.157:8000/api/players', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.players = response.data;\n      } catch (error) {\n        console.error('Error fetching NBA players:', error);\n      }\n    },\n    handleSearchInput() {\n      this.selectedPlayer = null; // Clear selected player data\n    },\n    async searchPlayers() {\n      try {\n        if (this.searchQuery.trim() === '') {\n          this.players = await axios.get('http://192.168.50.157:8000/api/players', {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n          });\n        } else {\n          const playerResponse = await axios.get(`http://192.168.50.157:8000/api/players/${this.searchQuery}`, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n          });\n          this.players = playerResponse.data;\n        }\n        this.showDropdown = true;\n      } catch (error) {\n        this.players = [];\n        this.showDropdown = false;\n      }\n    },\n    selectPlayer(player) {\n      this.selectedPlayer = player;\n      this.showDropdown = false;\n    }\n  },\n  computed: {\n    filteredPlayers() {\n      if (this.searchQuery.trim() === '') {\n        return this.players;\n      }\n      return this.players.filter(player => player.full_name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n    }\n  }\n};","map":{"version":3,"names":["axios","PlayerDetails","name","components","data","players","searchQuery","showDropdown","selectedPlayer","created","fetchPlayers","length","selectPlayer","methods","response","get","headers","Authorization","localStorage","getItem","error","console","handleSearchInput","searchPlayers","trim","playerResponse","player","computed","filteredPlayers","filter","full_name","toLowerCase","includes"],"sources":["/home/nav/Desktop/NBA api/frontend/nba-stats-app/src/views/ PlayersTab.vue"],"sourcesContent":["<template>\n  <div>\n    <h2 class=\"text-center my-4\">NBA Players</h2>\n    <div class=\"row mt-4\">\n      <div class=\"col-md-8\">\n        <PlayerDetails v-if=\"selectedPlayer\" :player=\"selectedPlayer\" />\n      </div>\n      <div class=\"col-md-4\">\n        <div class=\"player-search mt-4\">\n          <div class=\"input-group mb-3\">\n            <input\n              v-model=\"searchQuery\"\n              @input=\"handleSearchInput\"\n              @keyup.enter=\"searchPlayers\"\n              class=\"form-control\"\n              placeholder=\"Search for a player\"\n              @focus=\"showDropdown = true\"\n            />\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-secondary\" @click=\"searchPlayers\">\n                Search\n              </button>\n            </div>\n          </div>\n\n          <div class=\"list-group\">\n            <a\n              v-for=\"player in filteredPlayers\"\n              :key=\"player.id\"\n              href=\"#\"\n              class=\"list-group-item list-group-item-action\"\n              @click=\"selectPlayer(player)\"\n            >\n              {{ player.full_name }}\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport PlayerDetails from './PlayerDetails.vue';\n\nexport default {\n  name: 'PlayersTab',\n  components: {\n    PlayerDetails,\n  },\n  data() {\n    return {\n      players: [],\n      searchQuery: '',\n      showDropdown: false,\n      selectedPlayer: null,\n    };\n  },\n  async created() {\n    await this.fetchPlayers();\n    if (this.players.length > 0) {\n      this.selectPlayer(this.players[0]);\n    }\n  },\n  methods: {\n    async fetchPlayers() {\n      try {\n        const response = await axios.get('http://192.168.50.157:8000/api/players', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n          },\n        });\n        this.players = response.data;\n      } catch (error) {\n        console.error('Error fetching NBA players:', error);\n      }\n    },\n    handleSearchInput() {\n      this.selectedPlayer = null; // Clear selected player data\n    },\n    async searchPlayers() {\n      try {\n        if (this.searchQuery.trim() === '') {\n          this.players = await axios.get('http://192.168.50.157:8000/api/players', {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\n            },\n          });\n        } else {\n          const playerResponse = await axios.get(\n            `http://192.168.50.157:8000/api/players/${this.searchQuery}`, {\n              headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\n              },\n            }\n          );\n          this.players = playerResponse.data;\n        }\n        this.showDropdown = true;\n      } catch (error) {\n        this.players = [];\n        this.showDropdown = false;\n      }\n    },\n    selectPlayer(player) {\n      this.selectedPlayer = player;\n      this.showDropdown = false;\n    },\n  },\n  computed: {\n    filteredPlayers() {\n      if (this.searchQuery.trim() === '') {\n        return this.players;\n      }\n      return this.players.filter(player =>\n        player.full_name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card {\n  width: 100%;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n}\n\n.card-title {\n  font-size: 1.25rem;\n  font-weight: 500;\n}\n\n.card-text {\n  font-size: 1rem;\n  color: #666;\n}\n\n.player-search {\n  position: relative;\n}\n\n.list-group-item {\n  cursor: pointer;\n}\n</style>\n"],"mappings":"AA2CA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,aAAY,MAAO,qBAAqB;AAE/C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,EAAE;MACfC,YAAY,EAAE,KAAK;MACnBC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,YAAY,CAAC,CAAC;IACzB,IAAI,IAAI,CAACL,OAAO,CAACM,MAAK,GAAI,CAAC,EAAE;MAC3B,IAAI,CAACC,YAAY,CAAC,IAAI,CAACP,OAAO,CAAC,CAAC,CAAC,CAAC;IACpC;EACF,CAAC;EACDQ,OAAO,EAAE;IACP,MAAMH,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAMI,QAAO,GAAI,MAAMd,KAAK,CAACe,GAAG,CAAC,wCAAwC,EAAE;UACzEC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CAAC,CAAC;QACF,IAAI,CAACd,OAAM,GAAIS,QAAQ,CAACV,IAAI;MAC9B,EAAE,OAAOgB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC;IACDE,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACd,cAAa,GAAI,IAAI,EAAE;IAC9B,CAAC;IACD,MAAMe,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,IAAI,IAAI,CAACjB,WAAW,CAACkB,IAAI,CAAC,MAAM,EAAE,EAAE;UAClC,IAAI,CAACnB,OAAM,GAAI,MAAML,KAAK,CAACe,GAAG,CAAC,wCAAwC,EAAE;YACvEC,OAAO,EAAE;cACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;YACxD;UACF,CAAC,CAAC;QACJ,OAAO;UACL,MAAMM,cAAa,GAAI,MAAMzB,KAAK,CAACe,GAAG,CACpC,0CAA0C,IAAI,CAACT,WAAW,EAAE,EAAE;YAC5DU,OAAO,EAAE;cACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;YACxD;UACF,CACF,CAAC;UACD,IAAI,CAACd,OAAM,GAAIoB,cAAc,CAACrB,IAAI;QACpC;QACA,IAAI,CAACG,YAAW,GAAI,IAAI;MAC1B,EAAE,OAAOa,KAAK,EAAE;QACd,IAAI,CAACf,OAAM,GAAI,EAAE;QACjB,IAAI,CAACE,YAAW,GAAI,KAAK;MAC3B;IACF,CAAC;IACDK,YAAYA,CAACc,MAAM,EAAE;MACnB,IAAI,CAAClB,cAAa,GAAIkB,MAAM;MAC5B,IAAI,CAACnB,YAAW,GAAI,KAAK;IAC3B;EACF,CAAC;EACDoB,QAAQ,EAAE;IACRC,eAAeA,CAAA,EAAG;MAChB,IAAI,IAAI,CAACtB,WAAW,CAACkB,IAAI,CAAC,MAAM,EAAE,EAAE;QAClC,OAAO,IAAI,CAACnB,OAAO;MACrB;MACA,OAAO,IAAI,CAACA,OAAO,CAACwB,MAAM,CAACH,MAAK,IAC9BA,MAAM,CAACI,SAAS,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAC1B,WAAW,CAACyB,WAAW,CAAC,CAAC,CACxE,CAAC;IACH;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}