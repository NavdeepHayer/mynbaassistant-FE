{"ast":null,"code":"import { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/logo.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-4ef12f11\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"page-container d-flex justify-content-center align-items-center vh-100\"\n};\nconst _hoisted_2 = {\n  class: \"login-container card p-4\"\n};\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-center mb-4\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"NBA Stats App Logo\",\n  class: \"img-fluid\",\n  style: {\n    \"width\": \"150px\"\n  }\n})], -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"card-title text-center\"\n}, \"Welcome to NBA Stats App\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"nav nav-tabs justify-content-center mb-4\"\n};\nconst _hoisted_7 = {\n  class: \"nav-item\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = {\n  class: \"mb-3\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  class: \"form-label\"\n}, \"Email\", -1 /* HOISTED */));\nconst _hoisted_12 = {\n  class: \"mb-3\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\",\n  class: \"form-label\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary w-100\"\n}, \"Login\", -1 /* HOISTED */));\nconst _hoisted_15 = {\n  key: 0,\n  class: \"text-danger mt-3\"\n};\nconst _hoisted_16 = {\n  key: 1\n};\nconst _hoisted_17 = {\n  class: \"mb-3\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  class: \"form-label\"\n}, \"Email\", -1 /* HOISTED */));\nconst _hoisted_19 = {\n  class: \"mb-3\"\n};\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\",\n  class: \"form-label\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary w-100\"\n}, \"Register\", -1 /* HOISTED */));\nconst _hoisted_22 = {\n  key: 0,\n  class: \"text-danger mt-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _hoisted_5, _createElementVNode(\"ul\", _hoisted_6, [_createElementVNode(\"li\", _hoisted_7, [_createElementVNode(\"button\", {\n    class: _normalizeClass([\"nav-link\", {\n      active: $data.activeTab === 'login'\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $data.activeTab = 'login')\n  }, \"Login\", 2 /* CLASS */)]), _createElementVNode(\"li\", _hoisted_8, [_createElementVNode(\"button\", {\n    class: _normalizeClass([\"nav-link\", {\n      active: $data.activeTab === 'register'\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $data.activeTab = 'register')\n  }, \"Register\", 2 /* CLASS */)])]), $data.activeTab === 'login' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.email = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.password = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _hoisted_14, $data.errorMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_15, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true), $data.activeTab === 'register' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"form\", {\n    onSubmit: _cache[7] || (_cache[7] = _withModifiers((...args) => $options.register && $options.register(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.email = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.password = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _hoisted_21, $data.errorMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_22, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","style","key","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_normalizeClass","active","$data","activeTab","onClick","_cache","$event","_hoisted_8","_hoisted_9","onSubmit","_withModifiers","args","$options","login","_hoisted_10","_hoisted_11","email","required","_hoisted_12","_hoisted_13","password","_hoisted_14","errorMessage","_hoisted_15","_toDisplayString","_createCommentVNode","_hoisted_16","register","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22"],"sources":["/home/nav/Desktop/NBA api/frontend/nba-stats-app/src/views/AuthPage.vue"],"sourcesContent":["<template>\n  <div class=\"page-container d-flex justify-content-center align-items-center vh-100\">\n    <div class=\"login-container card p-4\">\n      <div class=\"card-body\">\n        <div class=\"text-center mb-4\">\n          <img src=\"@/assets/logo.png\" alt=\"NBA Stats App Logo\" class=\"img-fluid\" style=\"width: 150px;\">\n        </div>\n        <h1 class=\"card-title text-center\">Welcome to NBA Stats App</h1>\n        <ul class=\"nav nav-tabs justify-content-center mb-4\">\n          <li class=\"nav-item\">\n            <button class=\"nav-link\" :class=\"{ active: activeTab === 'login' }\" @click=\"activeTab = 'login'\">Login</button>\n          </li>\n          <li class=\"nav-item\">\n            <button class=\"nav-link\" :class=\"{ active: activeTab === 'register' }\" @click=\"activeTab = 'register'\">Register</button>\n          </li>\n        </ul>\n        <div v-if=\"activeTab === 'login'\">\n          <form @submit.prevent=\"login\">\n            <div class=\"mb-3\">\n              <label for=\"email\" class=\"form-label\">Email</label>\n              <input type=\"email\" v-model=\"email\" class=\"form-control\" required>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"password\" class=\"form-label\">Password</label>\n              <input type=\"password\" v-model=\"password\" class=\"form-control\" required>\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary w-100\">Login</button>\n            <p v-if=\"errorMessage\" class=\"text-danger mt-3\">{{ errorMessage }}</p>\n          </form>\n        </div>\n        <div v-if=\"activeTab === 'register'\">\n          <form @submit.prevent=\"register\">\n            <div class=\"mb-3\">\n              <label for=\"email\" class=\"form-label\">Email</label>\n              <input type=\"email\" v-model=\"email\" class=\"form-control\" required>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"password\" class=\"form-label\">Password</label>\n              <input type=\"password\" v-model=\"password\" class=\"form-control\" required>\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary w-100\">Register</button>\n            <p v-if=\"errorMessage\" class=\"text-danger mt-3\">{{ errorMessage }}</p>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      activeTab: 'login',\n      email: '',\n      password: '',\n      errorMessage: ''\n    };\n  },\n  methods: {\n    async login() {\n      try {\n        console.log('Logging in with:', this.email, this.password);\n        const formData = new FormData();\n        formData.append('username', this.email);\n        formData.append('password', this.password);\n\n        const response = await axios.post('http://localhost:8000/api/login', formData);\n        const token = response.data.access_token;\n\n        // Store the token in localStorage\n        localStorage.setItem('token', token);\n\n        // Set the default authorization header for future requests\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n        // Redirect to the home page\n        this.$router.push({ name: 'Home' });\n      } catch (error) {\n        console.error('Login error:', error);\n        if (error.response) {\n          this.errorMessage = error.response.data.detail;\n        } else {\n          this.errorMessage = 'An error occurred. Please try again.';\n        }\n      }\n    },\n    async register() {\n      try {\n        console.log('Registering with:', this.email, this.password);\n        await axios.post('http://localhost:8000/api/register', {\n          email: this.email,\n          password: this.password\n        });\n\n        // Auto-login after successful registration\n        await this.login();\n      } catch (error) {\n        console.error('Registration error:', error);\n        if (error.response) {\n          this.errorMessage = error.response.data.detail;\n        } else {\n          this.errorMessage = 'An error occurred. Please try again.';\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.page-container {\n  background-color: #1a1a1a;\n  height: 100vh;\n}\n\n.login-container {\n  background-color: #333;\n  border-radius: 10px;\n}\n\n.card-title, .nav-link {\n  color: #fff;\n}\n\n.nav-link.active {\n  background-color: #007bff;\n  color: #fff;\n}\n\n.form-control {\n  background-color: #444;\n  color: #fff;\n  border: 1px solid #555;\n}\n\n.btn-primary {\n  background-color: #007bff;\n  border: none;\n}\n\n.btn-primary:hover {\n  background-color: #0056b3;\n}\n\n.text-danger {\n  color: #ff6b6b;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}