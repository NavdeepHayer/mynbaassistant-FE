{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: 'YahooCallback',\n  async created() {\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n      try {\n        const response = await fetch(`http://localhost:8000/auth/yahoo/callback?code=${code}`);\n        const data = await response.json();\n        if (data.token) {\n          localStorage.setItem('access_token', data.token.access_token);\n          this.$router.push({\n            name: 'YahooHome'\n          });\n        } else {\n          alert('Failed to authenticate with Yahoo');\n          this.$router.push({\n            name: 'YahooSignIn'\n          });\n        }\n      } catch (error) {\n        console.error('Error during Yahoo callback processing:', error);\n        alert('An error occurred during Yahoo callback processing');\n        this.$router.push({\n          name: 'YahooSignIn'\n        });\n      }\n    } else {\n      alert('No authorization code found');\n      this.$router.push({\n        name: 'YahooSignIn'\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","created","urlParams","URLSearchParams","window","location","search","code","get","response","fetch","data","json","token","localStorage","setItem","access_token","$router","push","alert","error","console"],"sources":["/Users/navdeep/Documents/Github/mynbaassistant-FE/src/views/YahooCallback.vue"],"sourcesContent":["<template>\n    <div class=\"yahoo-callback container-fluid\">\n      <p>Processing Yahoo authentication...</p>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: 'YahooCallback',\n    async created() {\n      const urlParams = new URLSearchParams(window.location.search);\n      const code = urlParams.get('code');\n      if (code) {\n        try {\n          const response = await fetch(`http://localhost:8000/auth/yahoo/callback?code=${code}`);\n          const data = await response.json();\n          if (data.token) {\n            localStorage.setItem('access_token', data.token.access_token);\n            this.$router.push({ name: 'YahooHome' });\n          } else {\n            alert('Failed to authenticate with Yahoo');\n            this.$router.push({ name: 'YahooSignIn' });\n          }\n        } catch (error) {\n          console.error('Error during Yahoo callback processing:', error);\n          alert('An error occurred during Yahoo callback processing');\n          this.$router.push({ name: 'YahooSignIn' });\n        }\n      } else {\n        alert('No authorization code found');\n        this.$router.push({ name: 'YahooSignIn' });\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .yahoo-callback {\n    width: 100%;\n    padding: 0 15px;\n    background-color: #121212;\n    color: #e0e0e0;\n  }\n  </style>\n  "],"mappings":";;;;AAOE,eAAe;EACbA,IAAI,EAAE,eAAe;EACrB,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAMC,SAAQ,GAAI,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAC7D,MAAMC,IAAG,GAAIL,SAAS,CAACM,GAAG,CAAC,MAAM,CAAC;IAClC,IAAID,IAAI,EAAE;MACR,IAAI;QACF,MAAME,QAAO,GAAI,MAAMC,KAAK,CAAC,kDAAkDH,IAAI,EAAE,CAAC;QACtF,MAAMI,IAAG,GAAI,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAClC,IAAID,IAAI,CAACE,KAAK,EAAE;UACdC,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEJ,IAAI,CAACE,KAAK,CAACG,YAAY,CAAC;UAC7D,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAAElB,IAAI,EAAE;UAAY,CAAC,CAAC;QAC1C,OAAO;UACLmB,KAAK,CAAC,mCAAmC,CAAC;UAC1C,IAAI,CAACF,OAAO,CAACC,IAAI,CAAC;YAAElB,IAAI,EAAE;UAAc,CAAC,CAAC;QAC5C;MACF,EAAE,OAAOoB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;QAC/DD,KAAK,CAAC,oDAAoD,CAAC;QAC3D,IAAI,CAACF,OAAO,CAACC,IAAI,CAAC;UAAElB,IAAI,EAAE;QAAc,CAAC,CAAC;MAC5C;IACF,OAAO;MACLmB,KAAK,CAAC,6BAA6B,CAAC;MACpC,IAAI,CAACF,OAAO,CAACC,IAAI,CAAC;QAAElB,IAAI,EAAE;MAAc,CAAC,CAAC;IAC5C;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}