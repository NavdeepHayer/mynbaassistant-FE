{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'SearchResults',\n  data() {\n    return {\n      searchQuery: '',\n      players: [],\n      currentPage: 1,\n      itemsPerPage: 10,\n      showDropdown: false\n    };\n  },\n  async created() {\n    await this.fetchInitialPlayers();\n  },\n  methods: {\n    handleSearchInput() {\n      this.$emit('clear-selection'); // Clear selected player data\n    },\n    async fetchInitialPlayers() {\n      try {\n        const response = await axios.get('http://192.168.50.157:8000/api/players', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.players = response.data;\n      } catch (error) {\n        console.error('Error fetching NBA players:', error);\n      }\n    },\n    async searchPlayers() {\n      try {\n        if (this.searchQuery.trim() === '') {\n          await this.fetchInitialPlayers();\n        } else {\n          const response = await axios.get(`http://192.168.50.157:8000/api/players/${this.searchQuery}`, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n          });\n          this.players = response.data;\n        }\n        this.showDropdown = true;\n        this.currentPage = 1;\n      } catch (error) {\n        this.players = [];\n        this.showDropdown = false;\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n      }\n    },\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n      }\n    }\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.players.length / this.itemsPerPage);\n    },\n    paginatedPlayers() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.players.slice(start, end);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","searchQuery","players","currentPage","itemsPerPage","showDropdown","created","fetchInitialPlayers","methods","handleSearchInput","$emit","response","get","headers","Authorization","localStorage","getItem","error","console","searchPlayers","trim","nextPage","totalPages","prevPage","computed","Math","ceil","length","paginatedPlayers","start","end","slice"],"sources":["/home/nav/Desktop/NBA api/frontend/nba-stats-app/src/views/SearchResults.vue"],"sourcesContent":["<template>\n    <div class=\"search-results\">\n      <div class=\"input-group mb-3\">\n        <input\n          v-model=\"searchQuery\"\n          @input=\"handleSearchInput\"\n          @keyup.enter=\"searchPlayers\"\n          class=\"form-control\"\n          placeholder=\"Search for a player\"\n          @focus=\"showDropdown = true\"\n        />\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" @click=\"searchPlayers\">\n            Search\n          </button>\n        </div>\n      </div>\n  \n      <div class=\"list-group\">\n        <a\n          v-for=\"player in paginatedPlayers\"\n          :key=\"player.id\"\n          href=\"#\"\n          class=\"list-group-item list-group-item-action\"\n          @click=\"$emit('select-player', player)\"\n        >\n          {{ player.full_name }}\n        </a>\n      </div>\n  \n      <div class=\"pagination mt-3\">\n        <button @click=\"prevPage\" :disabled=\"currentPage === 1\">Previous</button>\n        <span>Page {{ currentPage }} of {{ totalPages }}</span>\n        <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\">Next</button>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    name: 'SearchResults',\n    data() {\n      return {\n        searchQuery: '',\n        players: [],\n        currentPage: 1,\n        itemsPerPage: 10,\n        showDropdown: false,\n      };\n    },\n    async created() {\n      await this.fetchInitialPlayers();\n    },\n    methods: {\n      handleSearchInput() {\n        this.$emit('clear-selection'); // Clear selected player data\n      },\n      async fetchInitialPlayers() {\n        try {\n          const response = await axios.get('http://192.168.50.157:8000/api/players', {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\n            },\n          });\n          this.players = response.data;\n        } catch (error) {\n          console.error('Error fetching NBA players:', error);\n        }\n      },\n      async searchPlayers() {\n        try {\n          if (this.searchQuery.trim() === '') {\n            await this.fetchInitialPlayers();\n          } else {\n            const response = await axios.get(\n              `http://192.168.50.157:8000/api/players/${this.searchQuery}`, {\n                headers: {\n                  Authorization: `Bearer ${localStorage.getItem('token')}`,\n                },\n              }\n            );\n            this.players = response.data;\n          }\n          this.showDropdown = true;\n          this.currentPage = 1;\n        } catch (error) {\n          this.players = [];\n          this.showDropdown = false;\n        }\n      },\n      nextPage() {\n        if (this.currentPage < this.totalPages) {\n          this.currentPage++;\n        }\n      },\n      prevPage() {\n        if (this.currentPage > 1) {\n          this.currentPage--;\n        }\n      },\n    },\n    computed: {\n      totalPages() {\n        return Math.ceil(this.players.length / this.itemsPerPage);\n      },\n      paginatedPlayers() {\n        const start = (this.currentPage - 1) * this.itemsPerPage;\n        const end = start + this.itemsPerPage;\n        return this.players.slice(start, end);\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .search-results {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .list-group-item {\n    cursor: pointer;\n  }\n  \n  .pagination {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  \n  .pagination button {\n    margin: 0 5px;\n  }\n  </style>\n  "],"mappings":"AAuCE,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,CAAC;MACdC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,mBAAmB,CAAC,CAAC;EAClC,CAAC;EACDC,OAAO,EAAE;IACPC,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACC,KAAK,CAAC,iBAAiB,CAAC,EAAE;IACjC,CAAC;IACD,MAAMH,mBAAmBA,CAAA,EAAG;MAC1B,IAAI;QACF,MAAMI,QAAO,GAAI,MAAMb,KAAK,CAACc,GAAG,CAAC,wCAAwC,EAAE;UACzEC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CAAC,CAAC;QACF,IAAI,CAACd,OAAM,GAAIS,QAAQ,CAACX,IAAI;MAC9B,EAAE,OAAOiB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC;IACD,MAAME,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,IAAI,IAAI,CAAClB,WAAW,CAACmB,IAAI,CAAC,MAAM,EAAE,EAAE;UAClC,MAAM,IAAI,CAACb,mBAAmB,CAAC,CAAC;QAClC,OAAO;UACL,MAAMI,QAAO,GAAI,MAAMb,KAAK,CAACc,GAAG,CAC9B,0CAA0C,IAAI,CAACX,WAAW,EAAE,EAAE;YAC5DY,OAAO,EAAE;cACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;YACxD;UACF,CACF,CAAC;UACD,IAAI,CAACd,OAAM,GAAIS,QAAQ,CAACX,IAAI;QAC9B;QACA,IAAI,CAACK,YAAW,GAAI,IAAI;QACxB,IAAI,CAACF,WAAU,GAAI,CAAC;MACtB,EAAE,OAAOc,KAAK,EAAE;QACd,IAAI,CAACf,OAAM,GAAI,EAAE;QACjB,IAAI,CAACG,YAAW,GAAI,KAAK;MAC3B;IACF,CAAC;IACDgB,QAAQA,CAAA,EAAG;MACT,IAAI,IAAI,CAAClB,WAAU,GAAI,IAAI,CAACmB,UAAU,EAAE;QACtC,IAAI,CAACnB,WAAW,EAAE;MACpB;IACF,CAAC;IACDoB,QAAQA,CAAA,EAAG;MACT,IAAI,IAAI,CAACpB,WAAU,GAAI,CAAC,EAAE;QACxB,IAAI,CAACA,WAAW,EAAE;MACpB;IACF;EACF,CAAC;EACDqB,QAAQ,EAAE;IACRF,UAAUA,CAAA,EAAG;MACX,OAAOG,IAAI,CAACC,IAAI,CAAC,IAAI,CAACxB,OAAO,CAACyB,MAAK,GAAI,IAAI,CAACvB,YAAY,CAAC;IAC3D,CAAC;IACDwB,gBAAgBA,CAAA,EAAG;MACjB,MAAMC,KAAI,GAAI,CAAC,IAAI,CAAC1B,WAAU,GAAI,CAAC,IAAI,IAAI,CAACC,YAAY;MACxD,MAAM0B,GAAE,GAAID,KAAI,GAAI,IAAI,CAACzB,YAAY;MACrC,OAAO,IAAI,CAACF,OAAO,CAAC6B,KAAK,CAACF,KAAK,EAAEC,GAAG,CAAC;IACvC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}